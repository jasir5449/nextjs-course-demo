{"ast":null,"code":"import { MongoClient } from 'mongodb';\n\nconst handler = async (req, res) => {\n  console.log(req.method);\n\n  if (req.method === 'POST') {\n    const data = req.body;\n    const client = await MongoClient.connect('mongodb+srv://jasir5449:Jasir2299@cluster0.4b5wc.mongodb.net/meetups');\n    const db = client.db();\n    const meetupCollection = db.collection('meetups');\n    const result = await meetupCollection.insertOne(data);\n    console.log(result);\n    client.close();\n    res.status(201).json({\n      message: 'Meetups data inserted Succefully'\n    });\n  } else if (req.method === 'GET') {\n    const client = await MongoClient.connect('mongodb+srv://jasir5449:Jasir2299@cluster0.4b5wc.mongodb.net/meetups');\n    const db = client.db();\n    const meetupCollection = db.collection('meetups');\n    const result = await meetupCollection.find().toArray(); //  console.log(result);\n\n    client.close();\n    res.status(201).json({\n      data: result\n    });\n  }\n};\n\nexport default handler;","map":{"version":3,"sources":["C:/react-web/demo-nextjs/pages/api/new-meetup.js"],"names":["MongoClient","handler","req","res","console","log","method","data","body","client","connect","db","meetupCollection","collection","result","insertOne","close","status","json","message","find","toArray"],"mappings":"AACA,SAAQA,WAAR,QAA0B,SAA1B;;AAEA,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAWC,GAAX,KAAkB;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,MAAhB;;AACA,MAAGJ,GAAG,CAACI,MAAJ,KAAc,MAAjB,EAAwB;AACtB,UAAMC,IAAI,GAAGL,GAAG,CAACM,IAAjB;AACA,UAAMC,MAAM,GAAG,MAAMT,WAAW,CAACU,OAAZ,CAAoB,sEAApB,CAArB;AACA,UAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AACA,UAAMC,gBAAgB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAAzB;AACA,UAAMC,MAAM,GAAG,MAAMF,gBAAgB,CAACG,SAAjB,CAA2BR,IAA3B,CAArB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ;AACAL,IAAAA,MAAM,CAACO,KAAP;AACAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB;AACA,GATF,MAUK,IAAGjB,GAAG,CAACI,MAAJ,KAAc,KAAjB,EAAuB;AAC1B,UAAMG,MAAM,GAAG,MAAMT,WAAW,CAACU,OAAZ,CAAoB,sEAApB,CAArB;AACA,UAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AACA,UAAMC,gBAAgB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAAzB;AACA,UAAMC,MAAM,GAAG,MAAMF,gBAAgB,CAACQ,IAAjB,GAAwBC,OAAxB,EAArB,CAJ0B,CAK5B;;AACEZ,IAAAA,MAAM,CAACO,KAAP;AACAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACX,MAAAA,IAAI,EAACO;AAAN,KAArB;AACD;AACJ,CArBD;;AAsBA,eAAeb,OAAf","sourcesContent":["\r\nimport {MongoClient} from 'mongodb'\r\n\r\nconst handler = async (req,res) =>{\r\n    console.log(req.method);\r\n    if(req.method ==='POST'){\r\n      const data = req.body;\r\n      const client = await MongoClient.connect('mongodb+srv://jasir5449:Jasir2299@cluster0.4b5wc.mongodb.net/meetups');\r\n      const db=  client.db();\r\n      const meetupCollection = db.collection('meetups');\r\n      const result = await meetupCollection.insertOne(data);\r\n      console.log(result);\r\n      client.close();\r\n      res.status(201).json({message:'Meetups data inserted Succefully'})\r\n     }\r\n    else if(req.method ==='GET'){\r\n      const client = await MongoClient.connect('mongodb+srv://jasir5449:Jasir2299@cluster0.4b5wc.mongodb.net/meetups');\r\n      const db=  client.db();\r\n      const meetupCollection = db.collection('meetups');\r\n      const result = await meetupCollection.find().toArray();\r\n    //  console.log(result);\r\n      client.close();\r\n      res.status(201).json({data:result})\r\n    } \r\n}\r\nexport default handler;"]},"metadata":{},"sourceType":"module"}